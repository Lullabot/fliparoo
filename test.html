<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>jQuery Waypoints</title>
        <style>
            *           { margin: 0; padding: 0; }
            a           { text-decoration: none; }
            ul          { list-style: none; list-style-type: none; }
            #wrapper    { margin: 0 auto; width: 400px; position: relative; }
            .nav-wrapper{ width: 100px; position: fixed; margin-left: -120px; }
            .active     { background-color: orange; }
            div.waypoint{ height: 400px; margin: 20px 0; background-color: yellow; }
        </style>
    </head>
    <body>
        <div id="wrapper">

            <div class="nav-wrapper">
                <ul class="nav">
                    <li><a href="#category1">Category 1</a>
                        <ul>
                            <li><a href="#1a">1 A</a></li>
                            <li><a href="#1b">1 B</a></li>
                            <li><a href="#1c">1 C</a></li>
                        </ul>
                    </li>
                    <li><a href="#category2">Category 2</a>
                        <ul>
                            <li><a href="#2a">2 A</a></li>
                            <li><a href="#2b">2 B</a></li>
                            <li><a href="#2c">2 C</a></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="waypoint" id="category1">Category 1</div>
            <div class="waypoint" id="1a">1 A</div>
            <div class="waypoint" id="1b">1 B</div>
            <div class="waypoint" id="1c">1 C</div>

            <div class="waypoint" id="category2">Category 2</div>
            <div class="waypoint" id="2a">2 A</div>
            <div class="waypoint" id="2b">2 B</div>
            <div class="waypoint" id="2c">2 C</div>

        </div><!--#wrapper-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script src="js/vendor/jquery-waypoints-master/waypoints.js"></script>
        <script>
            $('.waypoint')
                .waypoint(function(direction) {
                    $('a[href="#' + this.id + '"]').toggleClass('active', direction === 'down');
                }, {
        //          context: '#wrapper', // Removed this, see next post!
                    offset: '100%'
                })
                .waypoint(function(direction) {
                    $('a[href="#' + this.id + '"]').toggleClass('active', direction === 'up');
                }, {
        //          context: '#wrapper', // Removed this, see next post!
                    offset: function() {
                    return -$(this).height();
                }
            });
        </script>
    </body>
</html>